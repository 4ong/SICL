\section{Previous work}

\subsection{Process-based debugging}

With systems like \unix{}, debugging is usually performed as an
interaction between two \emph{processes}.  The debugger runs in one
process and the application in another process.  For a breakpoint, the
code of the application is modified by the debugger so that the
application sends a signal to the debugger when the breakpoint has
been reached.  For this purpose, the debugger maps the code pages of
the application as \emph{copy on write} (or COW), so that instances of
the same application that are not executed under the control of the
debugger are not affected by the modified code.  In particular, with
this technique any application can be debugged, including the
debuggger itself.

Some FLOSS \commonlisp{} implementations suggest using this debugging
technique, using some existing debugger such as GDB, in order to set
breakpoints.  In particular, the \ccl{} documentation mentions that
this technique is possible, and it is also the technique recommended
for \ecl{}.

\subsection{\sbcl{}}

The \sbcl{} \commonlisp{} implementation has a breakpoint facility.
Given a code location, a breakpoint can be set, which results in the
code being modified at that location, so that an arbitrary function
(given to the constructor of the breakpoint) is called when execution
reaches that location.

The only feature that uses the breakpoint facility is \texttt{trace}.
Furthermore, it is hard for the user to take advantage of the
breakpoint facility directly, given that a function such as
\texttt{make-breakpoint} requires an argument indicating the code
location.  We are unaware of the existence of a debugger for \sbcl{}
that can use the breakpoint facility.

\sbcl{} also has a \emph{single stepper} that the manual says is
``instrumentation based''.  as it turns out, the kind of
instrumentation used by the stepper is not that of the breakpoint
facility.  Instead, when the value of the \texttt{debug} optimization
quality is sufficiently high compared to the values of other
optimization qualities, the compiler inserts code that signals
conditions that are specific to the stepper.

\subsection{\ccl{}}

The \ccl{} \commonlisp{} implementation does not have the concept of
breakpoints.

The \ccl{} \texttt{trace} command uses \emph{encapsulation}, meaning
that the association between the \emph{name} of a function and the
function object itself is altered so that it contains a \emph{wrapper}
function that displays the information requested and that calls the
original function to accomplish its task.

Currently, \ccl{} does not have a working single stepper.

\subsection{TODO}

More stuff here, in particular about FLOSS commonlisp{} systems, about
commercial \commonlisp{} systems, about Genera, and perhaps about
other interactive systems like Scheme, etc.
